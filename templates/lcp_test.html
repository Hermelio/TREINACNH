<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LCP Test - TreinaCNH</title>
    <meta name="description" content="Teste de LCP (Largest Contentful Paint) para otimizaÃ§Ã£o de performance e SEO do TreinaCNH.">
    <meta name="keywords" content="LCP, performance, SEO, TreinaCNH, teste, otimizaÃ§Ã£o">
    <meta name="robots" content="noindex, nofollow">
    <link rel="canonical" href="https://www.treinacnh.com.br/lcp-test/">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:site_name" content="TreinaCNH">
    <meta property="og:title" content="LCP Test - TreinaCNH">
    <meta property="og:description" content="Teste de LCP (Largest Contentful Paint) para otimizaÃ§Ã£o de performance e SEO do TreinaCNH.">
    <meta property="og:url" content="https://www.treinacnh.com.br/lcp-test/">
    <meta property="og:image" content="/static/images/og_instrutores.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="LCP Test - TreinaCNH">
    <meta name="twitter:description" content="Teste de LCP (Largest Contentful Paint) para otimizaÃ§Ã£o de performance e SEO do TreinaCNH.">
    <meta name="twitter:image" content="/static/images/og_instrutores.png">

    {% block extra_meta %}{% endblock %}
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: sans-serif; }
        .hero { position: relative; width: 100%; height: 100vh; overflow: hidden; }
        .hero img { position: absolute; width: 100%; height: 100%; object-fit: contain; }
        .metrics { position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.8); color: #fff; padding: 15px; border-radius: 8px; font-size: 12px; z-index: 9999; }
        .metrics h3 { margin-bottom: 10px; color: #22c55e; }
        .metrics p { margin: 5px 0; }
        .highlight { outline: 5px solid red !important; }
    </style>
</head>
<body>
    <div class="metrics">
        <h3>ðŸŽ¯ LCP Metrics</h3>
        <p>Status: <span id="status">Analyzing...</span></p>
        <p>LCP Time: <span id="lcp-time">-</span></p>
        <p>LCP Element: <span id="lcp-element">-</span></p>
        <p>Image Source: <span id="image-src">-</span></p>
        <p>Image Size: <span id="image-size">-</span></p>
        <p>TTFB: <span id="ttfb">-</span></p>
        <p>FCP: <span id="fcp">-</span></p>
    </div>
    
    <div class="hero">
        <picture>
            <source type="image/avif" 
                    srcset="/static/images/hero/logohome3-640w.avif 640w,
                            /static/images/hero/logohome3-960w.avif 960w,
                            /static/images/hero/logohome3-1280w.avif 1280w,
                            /static/images/hero/logohome3-1920w.avif 1920w,
                            /static/images/hero/logohome3-2560w.avif 2560w"
                    sizes="100vw">
            <source type="image/webp" 
                    srcset="/static/images/hero/logohome3-640w.webp 640w,
                            /static/images/hero/logohome3-960w.webp 960w,
                            /static/images/hero/logohome3-1280w.webp 1280w,
                            /static/images/hero/logohome3-1920w.webp 1920w,
                            /static/images/hero/logohome3-2560w.webp 2560w"
                    sizes="100vw">
            <img src="/static/images/hero/logohome3-1920w.png" 
                 srcset="/static/images/hero/logohome3-640w.png 640w,
                         /static/images/hero/logohome3-960w.png 960w,
                         /static/images/hero/logohome3-1280w.png 1280w,
                         /static/images/hero/logohome3-1920w.png 1920w,
                         /static/images/hero/logohome3-2560w.png 2560w"
                 sizes="100vw"
                 alt="Hero Image"
                 width="1920"
                 height="1280"
                 fetchpriority="high"
                 loading="eager"
                 id="hero-img">
        </picture>
    </div>
    
    <script>
        const observer = new PerformanceObserver((list) => {
            const entries = list.getEntries();
            const lastEntry = entries[entries.length - 1];
            
            document.getElementById('status').textContent = 'LCP Detected!';
            document.getElementById('status').style.color = '#22c55e';
            document.getElementById('lcp-time').textContent = Math.round(lastEntry.renderTime || lastEntry.loadTime) + ' ms';
            document.getElementById('lcp-element').textContent = lastEntry.element?.tagName + (lastEntry.element?.id ? `#${lastEntry.element.id}` : '');
            
            if (lastEntry.element?.tagName === 'IMG') {
                const img = lastEntry.element;
                document.getElementById('image-src').textContent = img.currentSrc.split('/').pop();
                document.getElementById('image-size').textContent = img.naturalWidth + 'x' + img.naturalHeight;
                img.classList.add('highlight');
                setTimeout(() => img.classList.remove('highlight'), 3000);
            }
            
            console.group('ðŸŽ¯ LCP DETECTED');
            console.log('Time:', lastEntry.renderTime || lastEntry.loadTime, 'ms');
            console.log('Element:', lastEntry.element);
            console.log('Full Entry:', lastEntry);
            console.groupEnd();
        });
        
        observer.observe({ type: 'largest-contentful-paint', buffered: true });
        
        window.addEventListener('load', () => {
            const perfData = performance.getEntriesByType('navigation')[0];
            const paintEntries = performance.getEntriesByType('paint');
            
            document.getElementById('ttfb').textContent = Math.round(perfData.responseStart) + ' ms';
            
            paintEntries.forEach(entry => {
                if (entry.name === 'first-contentful-paint') {
                    document.getElementById('fcp').textContent = Math.round(entry.startTime) + ' ms';
                }
            });
            
            console.group('âš¡ TIMING');
            console.log('TTFB:', Math.round(perfData.responseStart), 'ms');
            paintEntries.forEach(e => console.log(e.name, Math.round(e.startTime), 'ms'));
            console.groupEnd();
        });
    </script>
</body>
</html>
